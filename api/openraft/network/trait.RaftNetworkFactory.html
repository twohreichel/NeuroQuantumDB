<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A trait defining the interface for a Raft network factory to create connections between cluster members."><title>RaftNetworkFactory in openraft::network - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-e56847b5.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="openraft" data-themes="" data-resource-suffix="" data-rustdoc-version="1.91.1 (ed61e7d7e 2025-11-07)" data-channel="1.91.1" data-search-js="search-e256b49e.js" data-stringdex-js="stringdex-c3e638e9.js" data-settings-js="settings-c38705f0.js" ><script src="../../static.files/storage-e2aeef58.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-6dc2a7f3.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-263c88ec.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-eab170b8.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">RaftNetworkFactory</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../openraft/index.html">openraft</a><span class="version">0.9.21</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Raft<wbr>Network<wbr>Factory</a></h2><h3><a href="#required-associated-types">Required Associated Types</a></h3><ul class="block"><li><a href="#associatedtype.Network" title="Network">Network</a></li></ul><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.new_client" title="new_client">new_client</a></li></ul><h3><a href="#dyn-compatibility">Dyn Compatibility</a></h3><h3><a href="#implementors">Implementors</a></h3></section><div id="rustdoc-modnav"><h2><a href="index.html">In openraft::<wbr>network</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../index.html">openraft</a>::<wbr><a href="index.html">network</a></div><h1>Trait <span class="trait">Raft<wbr>Network<wbr>Factory</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/openraft/network/factory.rs.html#17-33">Source</a> </span></div><pre class="rust item-decl"><code>pub trait RaftNetworkFactory&lt;C&gt;:
    <a class="trait" href="../trait.OptionalSend.html" title="trait openraft::OptionalSend">OptionalSend</a>
    + <a class="trait" href="../trait.OptionalSync.html" title="trait openraft::OptionalSync">OptionalSync</a>
    + 'static
    + <a class="trait" href="https://doc.rust-lang.org/1.91.1/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a><div class="where">where
    C: <a class="trait" href="../type_config/trait.RaftTypeConfig.html" title="trait openraft::type_config::RaftTypeConfig">RaftTypeConfig</a>,</div>{
    type <a href="#associatedtype.Network" class="associatedtype">Network</a>: <a class="trait" href="trait.RaftNetwork.html" title="trait openraft::network::RaftNetwork">RaftNetwork</a>&lt;C&gt;;

    // Required method
    fn <a href="#tymethod.new_client" class="fn">new_client</a>(
        &amp;mut self,
        target: C::<a class="associatedtype" href="../type_config/trait.RaftTypeConfig.html#associatedtype.NodeId" title="type openraft::type_config::RaftTypeConfig::NodeId">NodeId</a>,
        node: &amp;C::<a class="associatedtype" href="../type_config/trait.RaftTypeConfig.html#associatedtype.Node" title="type openraft::type_config::RaftTypeConfig::Node">Node</a>,
    ) -&gt; impl <a class="trait" href="https://doc.rust-lang.org/1.91.1/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = Self::<a class="associatedtype" href="trait.RaftNetworkFactory.html#associatedtype.Network" title="type openraft::network::RaftNetworkFactory::Network">Network</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/1.91.1/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a>;
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A trait defining the interface for a Raft network factory to create connections between cluster
members.</p>
<p>See the <a href="../docs/getting_started/index.html#4-implement-raftnetwork" title="mod openraft::docs::getting_started">network chapter of the guide</a>
for details and discussion on this trait and how to implement it.</p>
<p>Typically, the network implementation as such will be hidden behind a <code>Box&lt;T&gt;</code> or <code>Arc&lt;T&gt;</code> and
this interface implemented on the <code>Box&lt;T&gt;</code> or <code>Arc&lt;T&gt;</code>.</p>
</div></details><h2 id="required-associated-types" class="section-header">Required Associated Types<a href="#required-associated-types" class="anchor">ยง</a></h2><div class="methods"><details class="toggle" open><summary><section id="associatedtype.Network" class="method"><a class="src rightside" href="../../src/openraft/network/factory.rs.html#21">Source</a><h4 class="code-header">type <a href="#associatedtype.Network" class="associatedtype">Network</a>: <a class="trait" href="trait.RaftNetwork.html" title="trait openraft::network::RaftNetwork">RaftNetwork</a>&lt;C&gt;</h4></section></summary><div class="docblock"><p>Actual type of the network handling a single connection.</p>
</div></details></div><h2 id="required-methods" class="section-header">Required Methods<a href="#required-methods" class="anchor">ยง</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.new_client" class="method"><a class="src rightside" href="../../src/openraft/network/factory.rs.html#32">Source</a><h4 class="code-header">fn <a href="#tymethod.new_client" class="fn">new_client</a>(
    &amp;mut self,
    target: C::<a class="associatedtype" href="../type_config/trait.RaftTypeConfig.html#associatedtype.NodeId" title="type openraft::type_config::RaftTypeConfig::NodeId">NodeId</a>,
    node: &amp;C::<a class="associatedtype" href="../type_config/trait.RaftTypeConfig.html#associatedtype.Node" title="type openraft::type_config::RaftTypeConfig::Node">Node</a>,
) -&gt; impl <a class="trait" href="https://doc.rust-lang.org/1.91.1/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = Self::<a class="associatedtype" href="trait.RaftNetworkFactory.html#associatedtype.Network" title="type openraft::network::RaftNetworkFactory::Network">Network</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/1.91.1/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a></h4></section></summary><div class="docblock"><p>Create a new network instance sending RPCs to the target node.</p>
<p>This function should <strong>not</strong> create a connection but rather a client that will connect when
required. Therefore there is chance it will build a client that is unable to send out
anything, e.g., in case the Node network address is configured incorrectly. But this method
does not return an error because openraft can only ignore it.</p>
<p>The method is intentionally async to give the implementation a chance to use asynchronous
sync primitives to serialize access to the common internal object, if needed.</p>
</div></details></div><h2 id="dyn-compatibility" class="section-header">Dyn Compatibility<a href="#dyn-compatibility" class="anchor">ยง</a></h2><div class="dyn-compatibility-info"><p>This trait is <b>not</b> <a href="https://doc.rust-lang.org/1.91.1/reference/items/traits.html#dyn-compatibility">dyn compatible</a>.</p><p><i>In older versions of Rust, dyn compatibility was called "object safety", so this trait is not object safe.</i></p></div><h2 id="implementors" class="section-header">Implementors<a href="#implementors" class="anchor">ยง</a></h2><div id="implementors-list"></div><script src="../../trait.impl/openraft/network/factory/trait.RaftNetworkFactory.js" async></script></section></div></main></body></html>