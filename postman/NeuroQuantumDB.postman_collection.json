{
	"info": {
		"_postman_id": "neuroquantum-api-v2-collection",
		"name": "NeuroQuantumDB API v2 (API-Key Only)",
		"description": "**SECURITY UPDATE**: API-Key-Only Authentication f√ºr NeuroQuantumDB\n\n## Authentifizierung\n\nDie API verwendet jetzt ausschlie√ülich API-Key-Authentifizierung. JWT-Login wurde aus Sicherheitsgr√ºnden deaktiviert.\n\n### Setup:\n1. Erstelle einen Admin-Key: `neuroquantum-api init`\n2. Setze den API-Key als Environment Variable: `NEUROQUANTUM_API_KEY`\n3. Verwende den `X-API-Key` Header f√ºr alle Requests\n\n### API-Key Management:\n- Admin-Keys k√∂nnen weitere Keys erstellen\n- Keys haben Permissions: admin, read, write, quantum, neuromorphic, dna\n- Keys sind persistent in SQLite gespeichert",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"auth": {
		"type": "apikey",
		"apikey": [
			{
				"key": "value",
				"value": "{{api_key}}",
				"type": "string"
			},
			{
				"key": "key",
				"value": "X-API-Key",
				"type": "string"
			}
		]
	},
	"item": [
		{
			"name": "üè• Health & Status",
			"item": [
				{
					"name": "Health Check",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response has success status\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.data.status).to.eql(\"healthy\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/health",
							"host": ["{{base_url}}"],
							"path": ["health"]
						},
						"description": "√úberpr√ºft den Health-Status der API (keine Authentifizierung erforderlich)"
					},
					"response": []
				},
				{
					"name": "Metrics (Admin Only)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X-API-Key",
								"value": "{{api_key}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/metrics",
							"host": ["{{base_url}}"],
							"path": ["metrics"]
						},
						"description": "Prometheus-Metriken (Admin-Permission erforderlich)"
					},
					"response": []
				}
			]
		},
		{
			"name": "üîê Authentication (DISABLED)",
			"item": [
				{
					"name": "‚ö†Ô∏è Login (DEAKTIVIERT)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Login endpoint is disabled\", function () {",
									"    pm.response.to.have.status(501);",
									"});",
									"",
									"pm.test(\"Error message explains API-Key requirement\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.error).to.include(\"API-Key\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"username\": \"test@example.com\",\n  \"password\": \"password123\",\n  \"quantum_enabled\": false\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/auth/login",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "auth", "login"]
						},
						"description": "‚ö†Ô∏è Dieser Endpunkt wurde aus Sicherheitsgr√ºnden deaktiviert.\n\nVerwenden Sie stattdessen API-Keys:\n1. `neuroquantum-api init` - Erstellt ersten Admin-Key\n2. Verwenden Sie X-API-Key Header f√ºr Authentifizierung"
					},
					"response": []
				},
				{
					"name": "‚ö†Ô∏è Refresh Token (DEAKTIVIERT)",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"refresh_token\": \"refresh_token_here\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/auth/refresh",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "auth", "refresh"]
						},
						"description": "‚ö†Ô∏è Token-Refresh wurde deaktiviert. API-Keys haben feste Ablaufdaten."
					},
					"response": []
				}
			]
		},
		{
			"name": "üîë API Key Management",
			"item": [
				{
					"name": "Generate New API Key",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"API key generated successfully\", function () {",
									"    pm.response.to.have.status(200);",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.be.true;",
									"    pm.expect(jsonData.data.api_key).to.exist;",
									"    ",
									"    // Speichere den neuen API Key (optional)",
									"    // pm.environment.set(\"new_api_key\", jsonData.data.api_key);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-API-Key",
								"value": "{{api_key}}",
								"description": "Admin API Key erforderlich",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"developer-key\",\n  \"permissions\": [\"read\", \"write\", \"quantum\"],\n  \"expiry_hours\": 720,\n  \"rate_limit_per_hour\": 1000\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/auth/generate-key",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "auth", "generate-key"]
						},
						"description": "Erstellt einen neuen API Key (Admin-Permission erforderlich)\n\n**Berechtigungen:**\n- `admin`: Voller Zugriff, kann weitere Keys erstellen\n- `read`: Lesen von Daten\n- `write`: Schreiben von Daten\n- `quantum`: Quantum-Operationen\n- `neuromorphic`: Neuromorphic-Operationen\n- `dna`: DNA-Compression"
					},
					"response": []
				},
				{
					"name": "Revoke API Key",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-API-Key",
								"value": "{{api_key}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"api_key\": \"nqdb_key_to_revoke_here\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/auth/revoke-key",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "auth", "revoke-key"]
						},
						"description": "Widerruft einen API Key (Admin-Permission erforderlich)"
					},
					"response": []
				}
			]
		},
		{
			"name": "üìä CRUD Operations",
			"item": [
				{
					"name": "Create Table",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Table created successfully\", function () {",
									"    pm.response.to.have.status(201);",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.be.true;",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-API-Key",
								"value": "{{api_key}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"users\",\n  \"columns\": [\n    {\n      \"name\": \"id\",\n      \"data_type\": \"BigSerial\",\n      \"nullable\": false,\n      \"auto_increment\": true\n    },\n    {\n      \"name\": \"name\",\n      \"data_type\": \"Text\",\n      \"nullable\": false\n    },\n    {\n      \"name\": \"email\",\n      \"data_type\": \"Text\",\n      \"nullable\": false\n    }\n  ],\n  \"id_strategy\": \"AutoIncrement\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/tables",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "tables"]
						},
						"description": "Creates a new table with schema validation (write permission required).\n\n## Auto-Increment ID Configuration\n\n### Supported Data Types for Auto-ID:\n- `BigSerial` - 64-bit auto-incrementing integer (recommended)\n- `Serial` - 32-bit auto-incrementing integer\n- `SmallSerial` - 16-bit auto-incrementing integer\n\n### ID Generation Strategies:\n- `AutoIncrement` (default) - Sequential IDs (1, 2, 3, ...)\n- `Uuid` - Random UUIDs for distributed systems\n- `Snowflake` - Time-sortable distributed IDs\n\n### When to use which strategy:\n| Strategy | Best For | Pros | Cons |\n|----------|----------|------|------|\n| AutoIncrement | Single instance, high performance | Best B+Tree perf, small storage | Predictable |\n| Uuid | Distributed systems | Globally unique | Larger storage, poor index perf |\n| Snowflake | Distributed + time-ordered | Sortable, distributed | Needs time sync |"
					},
					"response": []
				},
				{
					"name": "Create Table (with UUID strategy)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Table created with UUID strategy\", function () {",
									"    pm.response.to.have.status(201);",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.be.true;",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-API-Key",
								"value": "{{api_key}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"distributed_events\",\n  \"columns\": [\n    {\n      \"name\": \"id\",\n      \"data_type\": \"Text\",\n      \"nullable\": false\n    },\n    {\n      \"name\": \"event_type\",\n      \"data_type\": \"Text\",\n      \"nullable\": false\n    },\n    {\n      \"name\": \"payload\",\n      \"data_type\": \"Text\",\n      \"nullable\": true\n    }\n  ],\n  \"id_strategy\": \"Uuid\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/tables",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "tables"]
						},
						"description": "Creates a table using UUID for ID generation.\n\nUse this for distributed systems where multiple nodes need to generate IDs independently without coordination.\n\n**Note:** UUID strategy has larger storage overhead (16 bytes vs 8 bytes) and less optimal B+Tree performance due to random distribution."
					},
					"response": []
				},
				{
					"name": "Insert Record (Auto-ID)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Record inserted with auto-generated ID\", function () {",
									"    pm.response.to.have.status(201);",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.be.true;",
									"    pm.expect(jsonData.data.inserted_id).to.exist;",
									"    console.log('Auto-generated ID:', jsonData.data.inserted_id);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-API-Key",
								"value": "{{api_key}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"table_name\": \"users\",\n  \"record\": {\n    \"name\": \"Max Mustermann\",\n    \"email\": \"max@example.com\"\n  }\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/records",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "records"]
						},
						"description": "Inserts a new record **without specifying an ID**.\n\n## Automatic ID Generation\n\nWhen the table has an auto-increment column (BigSerial, Serial, or AUTO_INCREMENT), the ID is automatically generated.\n\n**You do NOT need to provide the `id` field!**\n\n### Response includes:\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"inserted_id\": 1\n  }\n}\n```\n\nThe `inserted_id` field returns the auto-generated ID so you can reference it immediately."
					},
					"response": []
				},
				{
					"name": "Insert Record (Manual ID - Legacy)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-API-Key",
								"value": "{{api_key}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"table_name\": \"users\",\n  \"record\": {\n    \"id\": 999,\n    \"name\": \"Manual ID User\",\n    \"email\": \"manual@example.com\"\n  }\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/records",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "records"]
						},
						"description": "Inserts a record with a manually specified ID.\n\n**‚ö†Ô∏è Warning:** Use with caution!\n\n- Only works if the column is NOT defined as `GENERATED ALWAYS AS IDENTITY`\n- May cause conflicts with auto-generated IDs\n- May break the auto-increment sequence\n\n**Recommended:** Let the database generate IDs automatically for most use cases."
					},
					"response": []
				},
				{
					"name": "Query Records",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-API-Key",
								"value": "{{api_key}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"query\": \"SELECT * FROM users WHERE id = 1\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/query",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "query"]
						},
						"description": "Executes a SQL query (read permission required)"
					},
					"response": []
				}
			]
		},
		{
			"name": "üß† Neuromorphic Learning",
			"item": [
				{
					"name": "Train Neural Network",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-API-Key",
								"value": "{{api_key}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"table_name\": \"sensor_data\",\n  \"network_config\": {\n    \"layers\": [\n      {\n        \"layer_type\": \"Dense\",\n        \"size\": 128,\n        \"activation\": \"ReLU\"\n      },\n      {\n        \"layer_type\": \"Neuromorphic\",\n        \"size\": 64,\n        \"activation\": \"SpikingNeuron\"\n      }\n    ],\n    \"learning_rate\": 0.001,\n    \"epochs\": 100,\n    \"batch_size\": 32,\n    \"optimizer\": \"Adam\",\n    \"loss_function\": \"MeanSquaredError\"\n  }\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/neuromorphic/train",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "neuromorphic", "train"]
						},
						"description": "Trainiert ein neuromorphisches neuronales Netzwerk (neuromorphic-Permission erforderlich)"
					},
					"response": []
				}
			]
		},
		{
			"name": "‚öõÔ∏è Quantum Search",
			"item": [
				{
					"name": "Quantum Vector Search",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-API-Key",
								"value": "{{api_key}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"table_name\": \"embeddings\",\n  \"query_vector\": [0.1, 0.2, 0.3, 0.4],\n  \"similarity_threshold\": 0.8,\n  \"max_results\": 10,\n  \"entanglement_boost\": 1.5\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/quantum/search",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "quantum", "search"]
						},
						"description": "F√ºhrt eine quantenbasierte Vektorsuche durch (quantum-Permission erforderlich)"
					},
					"response": []
				}
			]
		},
		{
			"name": "üß¨ DNA Compression",
			"item": [
				{
					"name": "Compress Data",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-API-Key",
								"value": "{{api_key}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"data\": \"Dies ist ein langer Text, der komprimiert werden soll...\",\n  \"compression_level\": 5\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/dna/compress",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "dna", "compress"]
						},
						"description": "Komprimiert Daten mit DNA-basierter Kompression (dna-Permission erforderlich)"
					},
					"response": []
				},
				{
					"name": "Decompress Data",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-API-Key",
								"value": "{{api_key}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"compressed_data\": \"ATCG...\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/dna/decompress",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "dna", "decompress"]
						},
						"description": "Dekomprimiert DNA-komprimierte Daten (dna-Permission erforderlich)"
					},
					"response": []
				}
			]
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8080",
			"type": "string"
		}
	]
}

